<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>User Profile Dashboard</title>
    <link rel="stylesheet" href="../theme.css" />
    <link rel="stylesheet" href="profile.css" />
</head>

<body style="margin:0; padding:0;">

    <nav class="header-container">
        <div class="header-left">
            <div id="profileLastLogin">Last login:</div>
        </div>

        <div class="header-center">
            <button class="profile-sbmtptw-btn" type="button" id="sbmtptw">Submit a new request</button>
        </div>

        <div class="header-center">
            <button class="profile-signout-btn" type="button" id="logoutBtn">Sign Out</button>
        </div>
    </nav>

    <!-- Theme toggle lives right below header --
<div id="themeToggle" class="theme-toggle-slider">
  <span class="toggle-text light">Light</span>
  <div class="toggle-thumb"></div>
  <span class="toggle-text dark">Dark</span>
</div>
-->

    <div class="form-container profile-form-container">
        <!-- Card 1: User Profile -->
        <div class="card" id="userProfileCard">
            <fieldset>
                <legend>User Profile Details</legend>
                <div style="display:flex; gap:24px; align-items:flex-start; flex-wrap:wrap;">
                    <div style="min-width:260px; flex:1 1 320px;">
                        <p><strong>Full Name:</strong> <span id="profileFullName"></span></p>
                        <p><strong>Email:</strong> <span id="profileEmail"></span></p>
                        <p><strong>Company:</strong> <span id="profileCompany"></span></p>
                    </div>
                    <div style="flex:1 1 320px; max-width:560px;">
                        <canvas id="profileStatsChart" height="160" aria-label="Permit statistics" role="img"></canvas>
                    </div>
                </div>
            </fieldset>
        </div>


        <!-- Card 2: Submitted Permit Details -->
        <div class="card" id="submittedPermitsCard">
            <fieldset>
                <legend>Permit Details</legend>
                <table id="permitTable">
                    <thead>
                        <tr>
                            <th>Serial No.</th>
                            <th>Submitted Date & Time</th>
                            <th>Permit Title </th>
                            <th>Status</th>
                            <th>Permit Number</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dynamic rows will be injected via JS -->
                    </tbody>
                </table>
            </fieldset>
            </fieldset>
        </div>
    </div>

    <!-- Chart.js for profile statistics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"
        integrity="sha384-wpS0Z7Q8Q0+0s6Y4uWCDl8v0ySijBjqVQHCyZL1mDkD0syrf5eE3b7J6zR3qz6kS"
        crossorigin="anonymous"></script>
    <script type="module" src="profile.js"></script>

</body>

</html>