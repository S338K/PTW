<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HIA Baggage Handling System - Permit to Work</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="mainpage.css">
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="profile-navbar" id="navigationBar">
        <div class="nav-left">
            Welcome: <span id="userFullName"></span>
        </div>
        <div class="nav-center">
            <button class="nav-btn" id="profileBtn">Profile</button>
        </div>
        <div class="nav-right">
            <button class="nav-btn" id="logoutBtn">Log Out</button>
        </div>
    </nav>

    <!-- Form Container -->
    <div class="form-container">
        <div class="form-container">
            <form id="permitForm" method="POST" enctype="multipart/form-data" novalidate>
                <!-- Requester Details -->
                <section class="card">
                    <fieldset>
                        <legend>
                            <h3>Requester Details</h3>
                        </legend>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" name="fullName" id="fullName" required placeholder=" " maxlength="50"
                                    pattern="^[A-Za-z\s]{1,50}$" />
                                <label for="fullNameMD">Name</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" name="lastName" id="lastName" required placeholder=" " maxlength="50"
                                    pattern="^[A-Za-z\s]{1,50}$" />
                                <label for="lastName">Last Name</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" name="contactDetails" id="contactdetails" required placeholder=" "
                                    pattern="^\+974\d{8}$" />
                                <label for="contactdetails">Mobile Number</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" name="altContactDetails" id="altcontactdetails" placeholder=" "
                                    pattern="^\+974\d{8}$" />
                                <label for="altcontactdetails">Alternate Mobile Number</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="email" name="corpEmailId" id="corpemailid" required placeholder=" " />
                                <label for="corpemailid">Email Id</label>
                            </div>
                        </div>
                    </fieldset>
                </section>

                <!-- Work Details -->
                <section class="card">
                    <fieldset>
                        <legend>
                            <h3>Work Details</h3>
                        </legend>

                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" name="permitTitle" id="permitTitle" required placeholder=" " />
                                <label for="permitTitle"> Permit Title </label>
                            </div>
                        </div>

                        <!-- Terminal -->
                        <div class="form-group">
                            <div class="md-input">
                                <select id="terminal" name="terminal" required>
                                    <option value="" disabled selected>Select the Terminal</option>
                                    <option value="PTC">PTC</option>
                                    <option value="RTBF">RTBF</option>
                                    <option value="QROC">QROC</option>
                                    <option value="Other">Other</option>
                                </select>
                                <label for="terminal">Terminal</label>
                            </div>
                        </div>

                        <!-- Facility -->
                        <div id="facilityContainer" class="form-group hidden">
                            <div class="md-input">
                                <select id="facility" name="facility">
                                    <option value="" disabled selected>Select the Facility</option>
                                </select>
                                <label for="facility">Facility</label>
                            </div>
                        </div>

                        <!-- Specify Terminal -->
                        <div id="specifyTerminalContainer" class="form-group hidden">
                            <div class="md-input">
                                <input type="text" id="specifyTerminal" name="specifyTerminal" placeholder=" " />
                                <label for="specifyTerminal">Specify Terminal</label>
                            </div>
                        </div>

                        <!-- Specify Facility -->
                        <div id="specifyFacilityContainer" class="form-group hidden">
                            <div class="md-input">
                                <input type="text" id="specifyFacility" name="specifyFacility" placeholder=" " />
                                <label for="specifyFacility">Specify Facility</label>
                            </div>
                        </div>

                        <!-- Impact on Operation -->
                        <div class="form-group">
                            <div class="md-input">
                                <select id="impact" name="impact" required>
                                    <option value="" disabled selected>Will there be any impact on operations?</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                                </select>
                                <label for="impact">Impact on Operation</label>
                            </div>
                        </div>

                        <!-- Level of Impact -->
                        <div id="levelOfImpactContainer" class="form-group hidden">
                            <div class="md-input">
                                <select id="levelOfImpact" name="levelOfImpact">
                                    <option value="" disabled selected>Select Level of Impact</option>
                                    <option value="Low">Low</option>
                                    <option value="Medium">Medium</option>
                                    <option value="High">High</option>
                                    <option value="Critical">Critical</option>
                                </select>
                                <label for="levelOfImpact">Level of Impact</label>
                            </div>
                        </div>

                        <!-- Type of Affected Equipment -->
                        <div id="equipmentType" class="form-group hidden">
                            <div class="md-input">
                                <select id="equipmentTypeInput" name="equipmentTypeInput">
                                    <option value="" disabled selected>Select Equipment Type</option>
                                    <option value="BHS">BHS</option>
                                    <option value="PLB">PLB - Passenger Loading Bridge</option>
                                    <option value="VDGS">VDGS - Visual Docking Guidance System</option>
                                    <option value="HighSpeedShutterDoor">High Speed Shutter Door</option>
                                </select>
                                <label for="equipmentTypeInput">Type of Affected Equipment</label>
                            </div>
                        </div>

                        <!-- Affected Equipment Details -->
                        <div id="impactDetails" class="form-group hidden">
                            <div class="md-input">
                                <textarea id="impactDetailsInput" name="impactDetailsInput" placeholder=" "></textarea>
                                <label for="impactDetailsInput">Affected Equipment Details</label>
                            </div>
                        </div>

                        <!-- Nature of Work -->
                        <div class="form-group">
                            <div class="md-input">
                                <select id="natureOfWork" name="natureOfWork" required>
                                    <option value="" disabled selected>Select Nature of Work</option>
                                    <option value="Project">Project</option>
                                    <option value="Fault">Fault</option>
                                    <option value="Preventive Maintenance">Preventive Maintenance</option>
                                    <option value="Corrective Maintenance">Corrective Maintenance</option>
                                    <option value="Snag Work">Snag Work</option>
                                </select>
                                <label for="natureOfWork">Nature of Work</label>
                            </div>
                        </div>

                        <!-- Work Description -->
                        <div class="form-group">
                            <div class="md-input">
                                <textarea id="workDescription" name="workDescription" placeholder=" "></textarea>
                                <label for="workDescription">Work Description</label>
                            </div>
                        </div>

                    </fieldset>
                </section>

                <!-- Required Documents -->
                <section class="card">
                    <fieldset>
                        <legend>
                            <h3>Required Documents</h3>
                        </legend>

                        <div class="form-group">
                            <label>e-Permit Available?</label>
                            <input type="radio" id="ePermitYes" name="ePermit" value="Yes"> Yes
                            <input type="radio" id="ePermitNo" name="ePermit" value="No"> No
                            <div id="ePermitDetails" class="hidden">
                                <div class="md-input">
                                    <input type="text" id="ePermitReason" name="ePermitReason" placeholder=" " />
                                    <label for="ePermitReason">Reason for No e-Permit</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>FMM Workorder Available?</label>
                            <input type="radio" id="fmmWorkorderYes" name="fmmWorkorder" value="Yes"> Yes
                            <input type="radio" id="fmmWorkorderNo" name="fmmWorkorder" value="No"> No
                            <div id="fmmwrkordr" class="hidden">
                                <div class="md-input">
                                    <input type="text" id="noFmmWorkorder" name="noFmmWorkorder" placeholder=" " />
                                    <label for="noFmmWorkorder">Reason for No FMM Workorder</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>HSE Risk Assessment Available?</label>
                            <input type="radio" id="hseRiskYes" name="hseRisk" value="Yes"> Yes
                            <input type="radio" id="hseRiskNo" name="hseRisk" value="No"> No
                            <div id="hseassmnt" class="hidden">
                                <div class="md-input">
                                    <input type="text" id="noHseRiskAssessmentReason" name="noHseRiskAssessmentReason"
                                        placeholder=" " />
                                    <label for="noHseRiskAssessmentReason">Reason for No HSE Risk Assessment</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Operations Risk Assessment Available?</label>
                            <input type="radio" id="opRiskYes" name="opRisk" value="Yes"> Yes
                            <input type="radio" id="opRiskNo" name="opRisk" value="No"> No
                            <div id="opsassmnt" class="hidden">
                                <div class="md-input">
                                    <input type="text" id="noOpsRiskAssessmentReason" name="noOpsRiskAssessmentReason"
                                        placeholder=" " />
                                    <label for="noOpsRiskAssessmentReason">Reason for No Operations Risk
                                        Assessment</label>
                                </div>
                            </div>
                        </div>

                        <fieldset>
                            <legend>File Upload</legend>
                            <div id="fileUploadSection">
                                <div class="form-group file-upload">
                                    <!-- Clickable custom icon -->
                                    <label for="fileUpload" class="upload-icon">
                                        <i class="fas fa-folder-open" style="font-size: 28px; margin-right: 8px;"></i>
                                        <span>Upload the files</span>
                                    </label>

                                    <!-- Hidden native file input -->
                                    <input type="file" id="fileUpload" name="files" multiple hidden />

                                    <!-- Error message -->
                                    <p id="fileTypeMessage" class="upload-msg"></p>

                                    <!-- File list -->
                                    <ul id="uploadedFiles"></ul>
                                </div>
                            </div>
                        </fieldset>
                    </fieldset>
                </section>

                <!-- Date & Time -->
                <section class="card">
                    <fieldset>
                        <legend>
                            <h3>Date & Time</h3>
                        </legend>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" id="startDateTime" name="startDateTime" placeholder=" " required />
                                <label for="startDateTime">Start Date & Time</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" id="endDateTime" name="endDateTime" placeholder=" " required />
                                <label for="endDateTime">End Date & Time</label>
                            </div>
                        </div>
                    </fieldset>
                </section>

                <!-- Signature -->
                <section class="card">
                    <fieldset>
                        <legend>
                            <h3>Signature</h3>
                        </legend>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" id="signName" name="signName" placeholder="hidden " readonly />
                                <label for="signName">Name</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="date" id="signDate" name="signDate" placeholder=" " readonly />
                                <label for="signDate">Date</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="time" id="signTime" name="signTime" placeholder="hidden " readonly />
                                <label for="signTime">Time</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="md-input">
                                <input type="text" id="designation" name="designation" placeholder=" " required />
                                <label for="designation">Designation</label>
                            </div>
                        </div>
                    </fieldset>
                </section>

                <!-- Conditions -->
                <section class="card">
                    <fieldset>
                        <legend>
                            <h3>Conditions</h3>
                        </legend>
                        <div class="form-group">
                            <input type="checkbox" id="confirmConditions" name="confirmConditions" required />
                            <label for="confirmConditions">I confirm that I have read and agree to the
                                conditions.</label>
                        </div>
                    </fieldset>
                </section>
            </form>

            <!-- Submit Button -->
            <div class="form-group">
                <button type="submit" id="submitBtn">Submit</button>
            </div>

            <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
            <script type="module" src="mainpage.js"></script>
</body>

</html>